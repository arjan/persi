language: erlang
otp_release:
  - R15B01
  - R16B03
  - 17.0
script: make clean test
branches:
  only:
    - master
notifications:
  email:
    recipients:
      - scherpenisse@gmail.com
    on_success: change #[always|never|change] # default: change
    on_failure: always #[always|never|change] # default: always
before_script:
  - mysql -e 'create database persi_test;'
  - psql -c "create user persi password ''" -U postgres
  - psql -c "create database persi_test owner = persi;" -U postgres
env:
  - PERSI_DBDRIVER=sqlite
  - PERSI_DBDRIVER=mysql
  - PERSI_DBDRIVER=pgsql
